var k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function E(n){if(n.__esModule)return n;var b=n.default;if(typeof b=="function"){var y=function v(){return this instanceof v?Reflect.construct(b,arguments,this.constructor):b.apply(this,arguments)};y.prototype=b.prototype}else y={};return Object.defineProperty(y,"__esModule",{value:!0}),Object.keys(n).forEach(function(v){var j=Object.getOwnPropertyDescriptor(n,v);Object.defineProperty(y,v,j.get?j:{enumerable:!0,get:function(){return n[v]}})}),y}var O={exports:{}};(()=>{var n={d:(r,d)=>{for(var l in d)n.o(d,l)&&!n.o(r,l)&&Object.defineProperty(r,l,{enumerable:!0,get:d[l]})},o:(r,d)=>Object.prototype.hasOwnProperty.call(r,d),r:r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})}},b={};function y(r,d){for(var l=0;l<d.length;l++){var e=d[l];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}n.r(b),n.d(b,{default:()=>j});var v=function(){function r(){(function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r)}var d,l;return d=r,l=[{key:"changeHeightWidth",value:function(e,a,t,i,u,g){return t>i&&(e=Math.round(e*i/t),t=i),e>a&&(t=Math.round(t*a/e),e=a),u&&t<u&&(e=Math.round(e*u/t),t=u),g&&e<g&&(t=Math.round(t*g/e),e=g),{height:e,width:t}}},{key:"resizeAndRotateImage",value:function(e,a,t,i,u){var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,w=h/100,c=document.createElement("canvas"),p=e.width,m=e.height,f=this.changeHeightWidth(m,t,p,a,i,u);!o||o!==90&&o!==270?(c.width=f.width,c.height=f.height):(c.width=f.height,c.height=f.width),p=f.width,m=f.height;var s=c.getContext("2d");return s.fillStyle="rgba(0, 0, 0, 0)",s.fillRect(0,0,p,m),s.imageSmoothingEnabled&&s.imageSmoothingQuality&&(s.imageSmoothingQuality="high"),o&&(s.rotate(o*Math.PI/180),o===90?s.translate(0,-c.width):o===180?s.translate(-c.width,-c.height):o===270?s.translate(-c.height,0):o!==0&&o!==360||s.translate(0,0)),s.drawImage(e,0,0,p,m),c.toDataURL("image/".concat(g),w)}},{key:"b64toByteArrays",value:function(e,a){for(var t=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),i=[],u=0;u<t.length;u+=512){for(var g=t.slice(u,u+512),h=new Array(g.length),o=0;o<g.length;o++)h[o]=g.charCodeAt(o);var w=new Uint8Array(h);i.push(w)}return i}},{key:"b64toBlob",value:function(e,a){var t=this.b64toByteArrays(e,a);return new Blob(t,{type:a,lastModified:new Date})}},{key:"b64toFile",value:function(e,a,t){var i=this.b64toByteArrays(e,t);return new File(i,a,{type:t,lastModified:new Date})}},{key:"createResizedImage",value:function(e,a,t,i,u,g,h){var o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",w=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,p=new FileReader;if(!e)throw Error("File Not Found!");if(e.type&&!e.type.includes("image"))throw Error("File Is NOT Image!");p.readAsDataURL(e),p.onload=function(){var m=new Image;m.src=p.result,m.onload=function(){var f=r.resizeAndRotateImage(m,a,t,w,c,i,u,g),s="image/".concat(i);switch(o){case"blob":var M=r.b64toBlob(f,s);h(M);break;case"base64":h(f);break;case"file":var R=e.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(i.toString()),S=r.b64toFile(f,R,s);h(S);break;default:h(f)}}},p.onerror=function(m){throw Error(m)}}}],l&&y(d,l),r}();const j={imageFileResizer:function(r,d,l,e,a,t,i,u,g,h){return v.createResizedImage(r,d,l,e,a,t,i,u,g,h)}};O.exports=b})();var P=O.exports;const F=A(P);export{F as R,E as a,k as c,A as g};
